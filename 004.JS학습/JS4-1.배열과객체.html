<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS4-1. 배열변수와 객체</title>
        <style>
            h1 {
                text-align: center;
            }

            /* 정보출력박스 */
            .cont {
                width: 1000px;
                height: 80px;
                border: 2px solid #000;
                text-align: center;
                white-space: nowrap;
                line-height: 84px;
                margin: 5px auto;
                font-size: 24px;
            }
        </style>
        <script src="./JS4-1.배열과객체_object.js"></script>
        <script>
            // 로드구역

            window.addEventListener("DOMContentLoaded", function () {
                console.log("로딩완료!");

                // 출력대상 : .cont
                var tg = document.querySelectorAll(".cont");

                // console.log(tg);

                // 2. 내용 출력하기 : 배열과 객체를 활용

                /***************************************** 
                [배열(Array) 변수란? ]

                - 여러개의 데이터르 묶음으로 변수 하나에 저장한다.
                - 장점 : 데이터를 취급하고 다루는데 편의성 제공
                - 각 데이터를 하나의 이름으로 구분하여 호출할 수 있는 메모리 공간

                - 선언 : new Array()
                객체를 실제로 메모리 안에 생성하는 방법을 제공. 이를 인스턴스라고 함

                객체란 속성과 메소드를 가지고 있는 프로그램 단위체
                객체는 독립된 특성을 가지고0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 있어야 함

                예컨데 자동차, 볼펜, 물통 , 가방 등 독립된 별도의 기능이 있어야 하고 명사적 특징과 동사적 특징이 모두 있어야 객체
            *****************************************/

                // 배열의 선언과 할당
                var arr1 = new Array("1993년 10월 12일", "183cm", "65kg?", "너도인간이니?, 치인트", 4567, "서강준");

                // 원래 배열형을 만들 때는 대괄호를 사용하는 것이 일반적
                // 변수 = []
                // new 키워드로 선언과 할당을 동시에 한다
                // 소괄호 안에 ,로 값을 구분하여 사용한다.

                // 배열변수에 할당한 데이터 불러오기
                // 호출 방법: 배열변수명[순번] -> 순번은 0부터

                // 출력 대상 : 첫번째 박스 : tg[0]
                tg[0].innerHTML = `
                이름: ${arr1[5]} /
                키: ${arr1[0]}/
                몸무게: ${arr1[2]}/
                대표자: ${arr1[3]}
            `;

                // 2. 배열의 선언과 할당의 일반적인 방식
                // 배열 변수명 = [값1,값2,값3,...];
                // new Array() 라고 객체를 생성하지 않아도 자동 생성
                // 정적 객체(static object)

                var arr2 = [
                    "삼일절",
                    "태극기",
                    1919,
                    function () {
                        alert("대한독립만세!");
                    },
                ];

                // function(){} 익명함수 - 이름없고 코드만 저장
                // -> 배열값으로 문자,숫자,배열,객체,함수 등 할당가능

                // 배열확인
                console.log("arr2배열: ", arr2);

                // 출력대상 : tg[1]
                // 출력할 문자 : 삼일절은 1919년에 일제에 항거하여 태극기를 들고 일어난 민중봉기를 기념하는 날이다.

                tg[1].innerHTML = `
            
                ${arr2[0]}은 ${arr2[2]}년에 일제에 항거하여 ${arr2[1]}를 들고 일어난 민중봉기를 기념하는 날이다.

            `;

                // 툴팁 띄우기
                tg[1].title = "만세를 하려면 클릭하세요!";

                // 손가락 모양 표시
                tg[1].style.cursor = "pointer";

                // 배열의 함수 호출하기 - 이벤트 연결하여
                tg[1].onclick = arr2[3];
                // 클릭 이벤트 속성에 익명함수가 할당됨

                // 3. 배열을 미리 생성하여 각각 할당하는 방법
                // 배열변수명 = [] -> 이 변수가 배열변수로 설정됨
                // 배열변수명.length = 숫자 -> 숫자만큼 배열이생성
                // 배열변수명.length는 배열개수도 읽고 설정도 됨

                var arr3 = [];
                arr3.length = 13;
                // 배열 개수를 셋팅했어도 더 추가가 얼마든지 가능함!
                // 실제로 중요 x
                console.log("arr3배열변수:", arr3);

                // 각 배열 주소에 값을 할당함
                arr3[0] = "산";
                arr3[1] = "할아버지";
                arr3[2] = "구름모자";
                arr3[3] = "썼네";
                arr3[4] = "나비같이";
                arr3[5] = "훨훨";
                arr3[6] = "훠얼훨";
                arr3[7] = "날아서~!";

                // 배열 전체값 찍기 : valueOf() -> 배열값 전체를 ,로 구분하여 출력
                console.log("arr3 배열전체값:", arr3.valueOf());

                // 변수 전체 찍기에서 사이에 구분자 변경하기
                // join(구분자) -> 구분자는 특수 문자등 구분하는 문자

                console.log("arr3 배열 구분자로 문자찍기:", arr3.join("^"));
                // -> DB에 구분자로 구분하여 하나의 데이터로 만든 후
                // 입력할 경우에 많이 사용되는 메소드

                // 배열값 뒤에 동적으로 배열값 추가하기
                // push(값) -> 배열 맨 뒤에 값을 추가
                arr3.push("김창완작사");

                /******************************************** 
                [ 객체(Object) 란? ]

                - 일반적으로 JS에서 객체란 속성과 메서드를
                가지는 프로그램 단위체
                - 속성은 명사적 특징, 메서드는 동사적 특징
                객체예)
                https://www.w3schools.com/js/js_objects.asp
                - 자동차의 명사적특징: 핸들, 백미러, 트렁크, 바퀴 등
                - 자동차의 동사적특징: 운전하다, 멈추다, 주차하다 등

                (참고: 브라우저에 이미 만들어져 있는 객체들)
                -> 내장객체라고함!
                -> 브라우저 내장객체-> 봄(BOM:Browser Object Model)
                -> https://www.w3schools.com/js/js_window.asp

                window : 윈도우(브라우저화면) 표시 관련객체
                document : 문서구조에 관련된 객체
                Array : 배열객체
                Object : 객체를 만들기 위한 객체
                Date : 날짜객체
                Math : 수학객체
                ___________________________________

                ->>> 내장객체 중 객체를 만들기위한 객체인 Object를
                사용하여 객체를 만들어보자!

                [ 객체의 선언 ]
                - new Object()

                [ 객체의 할당 ]
                - 중괄호{}를 사용하여 할당코딩을 함
                - {속성명:값,속성명:값,...}
                - 여러값을 셋팅할때 콤마로 구분한다
                - 배열과 비교해서 이해하기 쉽고 호출하기 쉽다!
                - 객체 스타일로 데이터 구조를 만들고
                이런 파일로 DB와 데이터 통신을 한다!
                이 파일의 이름은? 제이슨(JSON:확장자.json)

                [ 객체의 호출 ]
                - 객체명[속성명]
                또는
                - 객체명.속성명

            ********************************************/

                // 객체를 선언하여 생성해보자
                // 기본 객체 셋팅 추천방식은 중괄호를 사용하는 것

                var ssg = new Object({
                    "너의 이름은?": "손석구",
                    생일: "1983년 2월 7일",
                    키: "178cm",
                    몸무게: "80kg",
                    혈액형: "C형",
                    대표작: "나의 해방일지, 범죄도시2",
                    소속사: "샛별당센터",
                    비밀번호: 7777,
                    팬레터: function () {
                        // 1. 메시지 띄우기
                        alert("상남자 오빠! 지금 뭐해?");

                        // 스타일 선택 변수
                        var sty = tg[3].style;

                        // 2. 배경이미지 넣기
                        sty.background =
                            "url(https://file.mk.co.kr/meet/neds/2022/05/image_readtop_2022_456627_16533579475052374.jpeg) repeat-x top/auto 100%";

                        // 3. 글자색 바꾸기
                        sty.color = "#fff";

                        // 4. 글자 그림자
                        sty.textShadow = "0 0 5px #000";

                        // 5. 글자 내용 변경
                        tg[3].innerText = "손석고 최고 멋쟁이! 승승장구 화이팅";

                        // 6. 줄간격
                        sty.lineHeight = "84px";

                        // 7. 박스 크게하기
                        sty.transform = "scale(1.2)";

                        // 8. 트랜지션
                        sty.transition = "1s ease-out 1s";
                    }, //// ssg 메소드 ////,
                }); ////// ssg 객체 //////

                // 객체 출력 대상 : tg[3]
                tg[3].innerHTML = `

                당신이 좋아하는 남자 배우는? 
                ${ssg["너의 이름은?"]}
                / 몸무게를 아세요?
                ${ssg["몸무게"]} <br>
                생년월일은?
                ${ssg["생일"]}
            `;

                // 줄간격조정
                tg[3].style.lineHeight = "40px";

                // 객체에 셋팅된 함수를 보통 메소드라고 한다.
                // 메소드 호출
                tg[3].onclick = ssg["팬레터"];

                // title 속성 넣기
                tg[3].title = `
            
                여기를 클릭하여 ${ssg["너의 이름은?"]} 팬레터를 확인하세요!

            `;

                // 손가락 표시
                tg[3].style.cursor = "pointer";

                /*************************************** 
                [ new 키워드 없이 바로 객체 생성하기 ] -> 추천방식!

                - 방법: 변수 선언 후 이퀄 뒤에 바로 중괄호 사용!
                예) let obj = {속성명:값,속성명:값,...};

                [ 객체의 속성 셋팅시 문자형 또는 변수형 사용하기 ]
                
                1. 문자형 속성 - 따옴표로 싸는 방법

                예) let obj = {"나는나":"호호호","너는너":"하하하"}
                -> 문자형 속성의 객체 호출시
                객체명[문자형속성명]
                예) obj["나는나"]

                2. 변수형 속성 - 따옴표로 안싸는 방법
                예) let obj = {name:"김수현",tall:"186cm"};
                -> 변수형 속성의 객체 호출시
                객체명.속성명
                예) obj.name

                또는

                객체명["속성명"]
                예) obj["name"]
                -> 반드시 변수형 속성명을 따옴표로 싸서
                문자형으로 표시해야함!
                obj[name] -> 에러남!

                -> 만약 문자형으로 설정된 경우에도 변수형으로 사용될 수 있는 문자면
                   변수형 호출 가능
                   ex) var obj = {"하하하":"나나나"}
                        obj["하하하"] or obj.하하하

            ***************************************/


            // 객체 생성하기

            var gu = {
                name:"공유",
                tall:"184cm",
                weight:"74kg",
                com:"매니지먼트 숲",
                work:"도깨비,부산행",
                msg: function(txt){
                    //1. 메시지 띄우기
                    alert("팬레터:"+txt);

                    var sty = tg[4].style;

                    sty.background = "url(https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Gong_Yoo_%28Sep_2016%29.png/250px-Gong_Yoo_%28Sep_2016%29.png) repeat-x top/auto 100%";

                    sty.color = "#fff";

                    sty.textShadow = "0 0 5px #000";

                    sty.lineHeight = "30px";

                    sty.height = "100px";

                    sty.paddingTop = "100px";

                    sty.transition = "2s ease-in-out .5s";
                }
            };///// gu 객체

            // gu 객체 찍어보기
            console.log("gu객체: ",gu);

            // gu 객체 출력하기 ////
            // 출력 대상 : tg[4]

            // 줄간격조정
            tg[4].style.lineHeight ="24px";

            // 내용출력
            tg[4].innerHTML = `
            
                저는 ${gu.name} 입니다.
                몸무게는 비밀인데요 그래도 말씀드리자면
                ${gu.weight} 입니다. ㅎㅎㅎ <br>
                제 대표작은 ${gu.work}입니다 <br>
                제 소속사는 모르시는 분들이 많은데 ${gu.com}입니다. 빠이빠이~

            `;

            // 툴팁 띄우기
            // setAttribute(속성명,값);

            tg[4].setAttribute("title",gu.name+"의 팬레터를 확인하세요 바로 클릭!");

            // 손가락 모양
            tg[4].style.cursor = "pointer";

            // 공유박스 클릭시 gu 객체 메소드 호출하기
            tg[4].onclick = function() {
                gu.msg("\n공유오빠, 오징어게임 싸다구 멋졌어요!\n차기작도 기대해요! 화이팅");
            }// click 이벤트 함수

            /*
            
                미션 : 내가 만든 객체

                1. 주제: 영화정보
                2. 조건: 객체변수명 자신이 지음
                3. 객체를 쌤께 전송
            
            */

            var cota = {

                // 제목
                name: "귀멸의 칼날",

                // 작가
                auth: "고토케 고토하루",

                // 출판사
                pub: "슈에이샤",

                // 장르
                gne : "animation",

                // 관람가
                watch: "all",

                // 배우
                actor : "하나에 나츠키",

                // 예고편
                trailer : function() {

                    // 1. 호출확인
                    // alert("예고편");

                    // 플레이함수 호출
                    playmv("0JbL0h_jtnI");
                } ///// 예고편 메소드

            };

            tg[5].style.lineHeight ="34px";

            tg[5].style.cursor = "pointer";

            // 내용 출력하기 함수로 변경

            var expfn = function() {

                tg[5].innerHTML = `
            
                영화명:${cota.name}
                작가:${cota.auth} <br>
                장르: ${cota.gne}
                배우:${cota.actor}
                관람가:${cota.watch}
            
            `;

                tg[5].title = ` 클릭하시면 ${cota.name} 예고편을 보실 수 있습니다.`;

                tg[5].onclick = cota.trailer;

            };   


            // 할당된 expfn 함수를 처음 실행 호출
            expfn();

            // 예고편 동영상용 박스

            var mvbx = document.querySelector("#mvbx");
            // console.log(mvbx);

            /**************************************************************** 
                함수명: playmv
                기능: 영화 예고편 화면에 띄우기
            ****************************************************************/   

            var playmv = function(mvcode) { // mvcode 예고편아이디

                // 1. 함수호출확인
                console.log("플레이어!",mvcode);

                // 2. 영화박스에 아이프레임 넣기
                // 대상 : mvbx
                mvbx.innerHTML = ` 
                
                    <div id="mv">
                        <!-- 유튜브 아이프레임 -->
                        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/${mvcode}?autoplay=1" title="YouTube video player" allow="autoplay" style="border:none"></iframe>
                        <!-- 닫기 버튼-->
                        <button class="cbtn">×</button>
                    </div>
                
                `;

                // 삽입된 함수 css 설정

                var mv = document.querySelector('#mv');
                var msy = mv.style;

                msy.position = "fixed";
                msy.top = "50%";
                msy.left="50%";
                msy.transform = "translate(-50%,-50%)";
                msy.width = "700px";
                msy.height = "450px";
                msy.backgroundColor = "#000";

                // 닫기버튼 css 셋팅하기
                var cbtn = document.querySelector('.cbtn');
                var csy = cbtn.style;

                csy.position = "absolute";
                csy.top = "0";
                csy.right = "-70px";
                csy.width = "50px";
                csy.height = "50px";
                csy.border = "none";
                csy.color = "#fff";
                csy.backgroundColor = "blue";
                csy.fontSize = "40px";
                csy.fontWeight = "bold";
                csy.borderRadius = "50%";
                csy.cursor = "pointer";
                csy.lineHeight = "50px";

                // 닫기 버튼 클릭시 #mv 제거
                cbtn.onclick = function() {
                    mv.remove();
                };

            }; ///////////////////playmv 함수 ///////////////////

            //////////////////////////////////////////////////////

            // 영화 초이스 버튼 클릭시 영화 정보와 동영상을 변경한다.
            // 대상선정

            var choice = document.querySelectorAll(".choice button");

            console.log(choice);

            // for문으로 버튼들을 click 이벤트 설정한다.

            for(var i=0;i<choice.length;i++) {

                choice[i].onclick = function() {

                    // 1. 버튼텍스트
                    var btxt = this.innerText;
                    console.log(btxt);

                    // 2. 버튼텍스트에 해당하는 객체를 기존 변수에 할당하기
                    // 새로운 객체를 기존 객체에 변경하기(할당하기)
                    switch(btxt) {

                        case "아무개1초이스" : cota = aaa; break;
                        case "아무개2초이스" : cota = aaa; break;
                        case "아무개3초이스" : cota = aaa; break;
                        case "아무개4초이스" : cota = aaa; break;
                        case "아무개5초이스" : cota = aaa; break;


                    }

                    // 기존 영화객체변수값이 변경되었는지 확인!
                    console.log(cota);


                };


            }


            });


        /********************************************** 
            ※ 정리 :
            ________________________________

            배열값 설정
            const 변수명 = [값1,값2,...];
            _________________________________

            배열값 호출
            변수명[순번] -> 순번은 0부터
            _________________________________

            객체값 설정
            const 변수명 = {속성:값,속성:값,...}
            ___________________________________

            객체값 호출

            변수명[속성명]
            -> 속성명을 따옴표로 싼 문자형임
            (만약 변수형 속성명이어도 이렇게 부를땐
            따옴표로 반드시 싸야한다!)

            또는

            변수명.속성명
            -> 속성명이 반드시 변수형 이어야함!
            -> 속성명이 문자형이어도 변수형에 적합하면 이와 같이 사용가능

            ____________________________________

            참고) 내장객체를 new키워드 없이 바로 할당하는
            방식을 객체 리터럴이라고 부른다
            예) var str = ""
                var arr = []
                var obj = {}

        **********************************************/
        </script>
    </head>

    <body>
        <h1>JS4-1. 배열변수와 객체</h1>

        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <!-- 영화 초이스 박스 -->
        <div class="cont choice">
            <button>아무개1초이스</button>
            <button>아무개2초이스</button>
            <button>아무개3초이스</button>
            <button>아무개4초이스</button>
            <button>아무개5초이스</button>
        </div>

        <!-- 예고편 동영상용 박스 -->
        <aside id="mvbx"></aside>
    </body>
</html>
