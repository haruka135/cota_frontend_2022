<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열의 메서드 활용</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
        }

        h1,
        h2 {
            text-align: center;
        }

        .controler {
            padding: 15px;
            width: 100%;
            text-align: center;
        }

        .cont ul {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 0;
            padding: 0;
            list-style: none;
            overflow: hidden;
        }

        .cont li {
            width: 100px;
            height: 100px;
            border: 2px solid red;
            border-radius: 50%;
            margin: 10px;
            text-align: center;
            line-height: 100px;
            font-size: 25px;
            white-space: nowrap;
        }

        /* 배열정보 보이기 */
        .showit {
            padding: 15px;
            border: 4px dotted blue;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
        }

        /* 버튼 */
        .mbtn,
        #sel {
            font-size: 20px;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        /* 입력양식 */
        label,input,select {
            font-size: 20px;
        }
    </style>
    <script>
        /////////// 로드구역 ///////////////////////////
        window.addEventListener("DOMContentLoaded",()=>{

            console.log("로딩완료!");

            // 1. 배열 변수 선언 및 할당
            const fruit = ["배","사과","용과","딸기"];

            // 2. 과일명과 배경이미지명 매칭함 -> 객체
            const frObj = {
                "배":"fruits_01",
                "사과":"fruits_02",
                "용과":"fruits_14",
                "딸기":"fruits_09",
                "두리안":"fruits_17",
                "바나나":"fruits_15",
                "수박":"fruits_12",
                "파인애플":"fruits_13",
                "망고":"fruits_24",
                "오렌지":"fruits_03",
                "체리":"fruits_05",
                "멜론":"fruits_11",
                "블루베리":"fruits_20",
                "레몬":"fruits_04"
            };


            // 3. 대상요소 //////////////
            // (1) 배열정보출력 : .showit
            const showit = document.querySelector(".showit");

            // (2) 배열로 이미지 출력 : .cont
            const cont = document.querySelector(".cont");

            // (3) 조작버튼 요소들 : .mbtn
            const mbtn = document.querySelectorAll(".mbtn");

            // (4) 선택 박스 : #sel
            const sel = document.querySelector("#sel");


            // 4. 처음 배열 출력하기
            // 배열 출력 함수 만들기
            const showArr = () => {
                showit.innerText = fruit.join("*");
            };

            // 처음 배열정보 호출하여 찍기
            showArr();

            // 5. 과일주세요~ 버튼 클릭 시 배열 정보로 과일박스 만들고 이미지 출력
           mbtn[0].onclick = () => {
            // 1. 변경 내용 : ul>li를 만들어서 html로 .cont에 출력!
            let hcode = "<ul>";
            // forEach 메소드로 배열만큼 돌아서 li 만들기
            // frObj[val] -> 배열값과 같은 이름의 객체 값 가져오기
            fruit.forEach((val,idx) => {
                hcode += `
                    <li style="background:url(./addimg/${frObj[val]}.png) no-repeat center/cover">
                    ${val}
                    </li>
                `;
            });

            hcode += "</ul>"

            cont.innerHTML = hcode;

           };

           // 6. 과일 이미지명 셋팅 객체 속성명으로 과일 선택박스(#sel) 옵션 셋팅
           // -> 선택박스에 데이터를 만드는 것을 데이터 바인딩이라 한다.
           // 대상 : #sel -> sel
           // 지역변수화 해서 셋팅하라
           // 호출 안해도 바로 실행하는 함수 만들기
           // (함수)() -> 자기 자신이 바로 실행됨
           (()=>{
            console.log("바로실행됨?");

            let temp = ""; // 임시변수(코드담기)

            // 객체를 위한 for
            for(let x in frObj) { // x는 객체 속성명
                temp +=`
                    <option>${x}</option>
                `;
            }

            sel.innerHTML = temp;
           })();

           // 7. 뒷배열 추가요~~ 클릭시 현재 선택된 #sel 과일을 맨 뒤에 추가
           mbtn[1].onclick = () => {
                
             // 2. 선택대상 : #sel인 선택박스의 값
             // 배열의 맨 뒤 값 추가는?
             // 배열 메소드: push() 배열의 맨뒤에 값 추가 
             fruit.push(sel.value);

             showArr();
           };

           // 8. 앞배열 추가요~ 버튼 클릭시 현재 선택된 #sel 과일 맨 앞에 추가
           mbtn[2].onclick = () => {
                // 앞배열 추가하기 [unshift]
                fruit.unshift(sel.value);

                // 배열정보 출력하기
                showArr();
           };

           mbtn[3].onclick = () => {
                fruit.pop();

                showArr();

           };

           mbtn[4].onclick = () => {
                fruit.shift();

                showArr();
           }

           /********************************************* 
                중간 배열 지우기 또는 추가를 위해
                현재 배열번호 선택박스와 지울 개수를 요소에 셋팅
            *********************************************/

           // 대상 선정 
           // (1) 지울 배열 선택박스
           const anum = document.querySelector("#anum");

           // (2) 지울 개수 input 박스
           const delnum = document.querySelector("#delnum");

           /************************************************* 
                현재 배열을 선택박스에 셋팅하는 함수
           *************************************************/

        }); ////////// 로드구역 ////////////////////////
    </script>
</head>

<body>
    <h1>배열의 메서드 활용</h1>
    <!-- 배열정보보기 -->
    <h2>배열정보보기</h2>
    <div class="showit"></div>
    <!-- 컨트롤 버튼 -->
    <div class="controler">
        <!-- 과일기능버튼 -->
        <button class="mbtn">과일주세요~!</button> <br>
        <button class="mbtn">뒷배열추가요~!</button>
        <button class="mbtn">앞배열추가요~!</button>
        <button class="mbtn">뒷배열삭제요~!</button>
        <button class="mbtn">앞배열삭제요~!</button> <br>

        <button class="mbtn">중간배열삭제</button>
        <label for="anum">선택과일:</label>
        <select name="anum" id="anum">
            <option>0</option>
        </select>
        <label for="delnum">지울개수:</label>
        <input type="text" id="delnum" value="1" maxlength="1">
        <br>

        <button class="mbtn">중간배열삽입</button>
        위의 선택번호사용+과일은 리스트에서 선택!
        <!-- 과일선택박스 -->
        <select name="sel" id="sel">
            <option>과일</option>
        </select>
    </div>
    <!-- 출력박스 -->
    <div class="cont"></div>
</body>

</html>